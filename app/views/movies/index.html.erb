<% content_for :title, "Movie Library" %>

<div class="movie-grid">
  <% @movies.each do |movie| %>
    <%= link_to movie_path(movie), class: "movie-card" do %>
      <div class="movie-thumb-container">
        <% if movie.poster_path.present? %>
           <%= image_tag poster_movie_path(movie), class: "movie-thumb", loading: "lazy" %>
        <% else %>
           <div style="height: 100%; display: flex; align-items: center; justify-content: center; color: #666;">
             No Image
           </div>
        <% end %>
      </div>
      <div class="movie-info">
        <h3 class="movie-title" title="<%= movie.title %>"><%= movie.title %></h3>
        <div class="movie-meta">
           <%= movie.release_date&.year || "N/A" %>
           <% if movie.studio %>
             â€¢ <%= movie.studio.name %>
           <% end %>
        </div>
      </div>
    <% end %>
  <% end %>
</div>

<% if @movies.empty? %>
  <div style="text-align: center; margin-top: 4rem; color: #64748b;">
    <i class="fas fa-film" style="font-size: 3rem; margin-bottom: 1rem;"></i>
    <p>No movies found. Try importing some NFO files.</p>
  </div>
<% end %>
